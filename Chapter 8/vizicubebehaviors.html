<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Programming 3D Applications in HTML5 and WebGL &mdash; A Simple Vizi Example</title>

<link rel="stylesheet" href="../css/main.css" />

<div id="container" style="width:98%; height:98%; position:absolute;background-color:black">
</div>

<script src="../libs/jquery-1.9.1/jquery-1.9.1.js"></script>
<script src="../libs/vizi/vizi.js"></script>
<script type="text/javascript">

	$(document).ready(function() {

		// Create the Vizi application object
		var container = document.getElementById("container");		
		var app = new Vizi.Application({ container : container });

		// Create a phong-shaded, texture-mapped cube
		var cube = new Vizi.Object;	
		var visual = new Vizi.Visual(
				{ geometry: new THREE.CubeGeometry(2, 2, 2),
					material: new THREE.MeshPhongMaterial({map:THREE.ImageUtils.loadTexture("../images/webgl-logo-256.jpg")})
				});
		cube.addComponent(visual);

		// Add a rotate behavior to give the cube some life
		var rotator = new Vizi.RotateBehavior;
		cube.addComponent(rotator);
		
		// Make the cube pickable		
		var picker = new Vizi.Picker;
		cube.addComponent(picker);

		// Add a highlight color for hover
		var highlight = new Vizi.HighlightBehavior({highlightColor:0xeeff00});
		cube.addComponent(highlight);
		
		// Connect the picker to the rotator, highlight and rotate on hover
		picker.addEventListener("mouseover", function() { highlight.on(); });
		picker.addEventListener("mouseout", function() { highlight.off();});
		picker.addEventListener("mouseup", function() { rotator.toggle(); });

		
		// Rotate the cube toward the viewer to show off the 3D
		cube.transform.rotation.x = Math.PI / 5;

		// Add a light to show shading
		var light = new Vizi.Object;
		light.addComponent(new Vizi.DirectionalLight);
		
		// Add the cube and light to the scene
		app.addObject(cube);
		app.addObject(light);

		// Run it
		app.run();

		/*
		var rotator = new Vizi.RotateBehavior({loop:true});
		var bouncer = new Vizi.BounceBehavior({loop:true});
		var mover = new Vizi.MoveBehavior({loop:true, duration:2, moveVector:new THREE.Vector3(0, 0, -2)});
	
		picker.addEventListener("mouseover", function() { highlight.on(); });
		picker.addEventListener("mouseout", function() { highlight.off(); });
		picker.addEventListener("mouseup", function() { bouncer.toggle(); });
		picker.addEventListener("mouseup", function() { mover.toggle(); });
						
		cube.addComponent(visual);
		cube.addComponent(picker);
		cube.addComponent(rotator);
		cube.addComponent(bouncer);
		cube.addComponent(mover);
		cube.addComponent(highlight);
		app.addObject(cube);
	
		cube.transform.rotation.x = Math.PI / 5;

		app.run();
		*/
		
	}
	);

</script>

</head>
<body>


</html>